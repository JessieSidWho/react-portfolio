(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){},149:function(e,t){},152:function(e,t,a){},18:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),l=a.n(c),o=a(6),s=a(7),i=a(10),m=a(8),u=a(11),h=(a(42),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand offset-5",href:"/",style:{color:"#ff4500",fontSize:"30px"}},"study live")),r.a.createElement("div",{id:"bar",className:"row-fluid"},r.a.createElement("div",{className:"col-md-12"})),r.a.createElement("div",{className:"row mt-5 "},r.a.createElement("div",{className:"col-md-6 offset-3 mt-5 border border-white rounded-lg p-5"},r.a.createElement("div",{className:"text-white h3 text-center mb-4"},r.a.createElement("p",null,"Welcome to Study-Live!"),r.a.createElement("p",null,"Login to study and talk to your peers!")),r.a.createElement("a",{href:"http://localhost:3001/auth/google"},r.a.createElement("button",{className:"btn btn-secondary btn-block"},"Login with Google")))))}),d=a(233);var p=function(e){return r.a.createElement("ul",{id:"behindTabs",className:"nav nav-tabs row rounded-lg"},r.a.createElement("li",{className:"nav-item col-md-2"},r.a.createElement(d.a,{id:"tabName",to:"/lofi",className:"".concat("Lofi"===e.currentPage?"nav-link active":"nav-link")},"Lofi")),r.a.createElement("li",{className:"nav-item col-md-2"},r.a.createElement(d.a,{id:"tabName",to:"/reggae",className:"Reggae"===e.currentPage?"nav-link active":"nav-link"},"Reggae")),r.a.createElement("li",{className:"nav-item col-md-2"},r.a.createElement(d.a,{id:"tabName",to:"/indie",className:"Indie"===e.currentPage?"nav-link active":"nav-link"},"Indie")),r.a.createElement("li",{className:"nav-item col-md-2"},r.a.createElement(d.a,{id:"tabName",to:"/jazz",className:"Jazz"===e.currentPage?"nav-link active":"nav-link"},"Jazz")),r.a.createElement("li",{className:"nav-item col-md-2"},r.a.createElement(d.a,{id:"tabName",to:"/morningcoffee",className:"MorningCoffee"===e.currentPage?"nav-link active":"nav-link"},"Coffee")),r.a.createElement("li",{className:"nav-item col-md-2"},r.a.createElement(d.a,{id:"tabName",to:"/metal",className:"Metal"===e.currentPage?"nav-link active":"nav-link"},"Metal")))},f=(a(18),function(){return r.a.createElement("div",{className:"divStyle"},r.a.createElement("iframe",{title:"lofi",src:"https://streamable.com/s/vxs8r/tdamtm?autoplay=1",frameBorder:"0",width:"90%",height:"90%",allowFullScreen:!0,allow:"autoplay",className:"iframeStyle"}))}),g=function(){return r.a.createElement("div",{className:"divStyle"},r.a.createElement("iframe",{title:"reggae",src:"https://streamable.com/s/f9ece/balkoy?autoplay=1",frameBorder:"0",width:"90%",height:"90%",allowFullScreen:!0,allow:"autoplay",className:"iframeStyle"}))},b=function(){return r.a.createElement("div",{className:"divStyle"},r.a.createElement("iframe",{title:"indie",src:"https://streamable.com/s/afpl7/pjylnf?autoplay=1",frameBorder:"0",width:"90%",height:"90%",allowFullScreen:!0,allow:"autoplay",className:"iframeStyle"}))},v=function(){return r.a.createElement("div",{className:"divStyle"},r.a.createElement("iframe",{title:"Jazz",src:"https://streamable.com/s/2e9ls/blaxby?autoplay=1",frameBorder:"0",width:"90%",height:"90%",allowFullScreen:!0,allow:"autoplay",className:"iframeStyle"}))},E=function(){return r.a.createElement("div",{className:"divStyle"},r.a.createElement("iframe",{title:"morningCoffee",src:"https://streamable.com/s/e6o9c/ekxgko?autoplay=1",frameBorder:"0",width:"90%",height:"90%",allowFullScreen:!0,allow:"autoplay",className:"iframeStyle"}))},y=function(){return r.a.createElement("div",{className:"divStyle"},r.a.createElement("iframe",{title:"metal",src:"https://streamable.com/s/7fmml/syvqnk?autoplay=1",frameBorder:"0",width:"90%",height:"90%",allowFullScreen:!0,allow:"autoplay",className:"iframeStyle"}))},N=a(235),j=a(236),k=a(237),O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={currentPage:"/lofi"},a.handlePageChange=function(e){a.setState({currentPage:e})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(N.a,null,r.a.createElement("div",null,r.a.createElement(p,{currentPage:this.state.currentPage,handlePageChange:this.handlePageChange}),r.a.createElement(j.a,null,r.a.createElement(k.a,{exact:!0,path:"/main",component:f}),r.a.createElement(k.a,{exact:!0,path:"/lofi",component:f}),r.a.createElement(k.a,{exact:!0,path:"/reggae",component:g}),r.a.createElement(k.a,{exact:!0,path:"/indie",component:b}),r.a.createElement(k.a,{exact:!0,path:"/jazz",component:v}),r.a.createElement(k.a,{exact:!0,path:"/morningcoffee",component:E}),r.a.createElement(k.a,{exact:!0,path:"/metal",component:y}))))}}]),t}(n.Component),w=a(9),x=a(12),C=a.n(x),S=a(21),M=a(26),B=a.n(M),z=function(){return function(){var e=Object(S.a)(C.a.mark(function e(t){var a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("/api/currentUser");case 2:a=e.sent,t({type:"FETCH_USER",payload:a.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},H=function(e){return function(){var t=Object(S.a)(C.a.mark(function t(a){return C.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"COLOR_CHANGE",payload:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},P=(a(122),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"border border-secondary rounded-lg"},r.a.createElement("button",{className:"btn btn-light",onClick:function(){return e.props.colorChange("bg-light text-dark border-dark")}},"Light"),r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return e.props.colorChange("bg-dark text-white border-light")}},"Dark"))}}]),t}(n.Component));var I=Object(w.b)(function(e){return{color:e.color}},{colorChange:H})(P),T=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-dark ".concat(this.props.color)},r.a.createElement(I,null),r.a.createElement("a",{className:"navbar-brand ",href:"/",style:{color:"#ff4500",fontSize:"30px"}},"study live"),r.a.createElement("a",{href:"http://localhost:3001/api/logout"},r.a.createElement("button",{className:"btn btn-secondary btn-block"},"Logout")))}}]),t}(n.Component);var F=Object(w.b)(function(e){return{color:e.color}},{colorChange:H})(T),L=a(17),A=a(88),U=a.n(A)()("http://localhost:8000");a(152);var R=function(e){function t(e){var a,n;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={timestamp:"no timestamp yet",message:""},n=function(e,t){return a.setState({timestamp:t})},U.on("timer",function(e){return n(null,e)}),U.emit("subscribeToTimer",1e3),a.handleMessageChange=a.handleMessageChange.bind(Object(L.a)(Object(L.a)(a))),a.handleMessageSubmit=a.handleMessageSubmit.bind(Object(L.a)(Object(L.a)(a))),U.on("chat message",function(e){var t=document.createElement("p");t.append(e),document.getElementById("chat").append(t),a.scrollChatIfAtBottom()}),U.on("user count",function(e){var t=document.getElementById("user-count"),a="".concat(e,1===e?" person is listening to study-live (that's you!)":" people are listening to study-live");t.innerText=a}),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleMessageSubmit",value:function(){var e=Object(S.a)(C.a.mark(function e(t){var a;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),U.emit("chat message","".concat(this.props.auth.name,": ").concat(this.state.message)),a={username:this.props.auth.name,message:this.state.message,timestamp:this.state.timestamp},e.next=5,this.postChatMessage(a);case 5:this.setState({message:""}),this.scrollChatIfAtBottom();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleMessageChange",value:function(e){this.setState({message:e.target.value})}},{key:"scrollChatIfAtBottom",value:function(){var e=document.getElementById("chat");e.scrollHeight-e.clientHeight<=e.scrollTop+50&&(e.scrollTop=e.scrollHeight-e.clientHeight)}},{key:"postChatMessage",value:function(e){B.a.post("http://localhost:8001/chat/save",{username:e.username,message:e.message,timestamp:e.timestamp}).catch(function(e){console.log(e)})}},{key:"getChatMessages",value:function(){return B.a.get("http://localhost:8001/chat").then(function(e){return e}).catch(function(e){return e})}},{key:"componentDidMount",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,a,n,r,c,l;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChatMessages();case 2:return t=e.sent,e.next=5,t.data.chat;case 5:for(n in a=e.sent)r=document.getElementById("chat"),(c=document.createElement("p")).innerText="".concat(a[n].username,": ").concat(a[n].message),r.append(c);(l=document.getElementById("chat")).scrollTop=l.scrollHeight-l.clientHeight;case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"user-count",className:"row border-bottom border-light rounded-lg pt-2 pl-4"},"STUDY LIVE CHAT"),r.a.createElement("div",{id:"chat",className:"col-sm-12 pt-3"},r.a.createElement("p",null,"Study Live: Hello")),r.a.createElement("div",{className:"row"},r.a.createElement("form",{className:"col-sm-12",onSubmit:this.handleMessageSubmit},r.a.createElement("input",{id:"msgbox",className:"rounded-lg",type:"text",value:this.state.message,onChange:this.handleMessageChange,placeholder:"Your Message Here",name:"message"}),r.a.createElement("input",{id:"sendbtn",className:"btn btn-light text-dark",type:"submit",value:"Send"}))))}}]),t}(n.Component);var D=Object(w.b)(function(e){return{auth:e.auth}},{fetchUser:z})(R),J=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8 border-bottom-0 ".concat(this.props.color)},r.a.createElement(O,null)),r.a.createElement("div",{className:"col-md-4 border ".concat(this.props.color," rounded-lg")},r.a.createElement(D,null))))}}]),t}(n.Component);var _=Object(w.b)(function(e){return{color:e.color}},{colorChange:H})(J),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchUser()}},{key:"logName",value:function(){return console.log(this.props.auth),this.props.auth?r.a.createElement("h1",null,"Hello ",this.props.auth.name):r.a.createElement("div",null,"Nothing")}},{key:"render",value:function(){return r.a.createElement(N.a,null,r.a.createElement("div",{className:"container-fluid h-100 ".concat(this.props.color)},r.a.createElement(k.a,{exact:!0,path:"/",component:h}),r.a.createElement(k.a,{exact:!0,path:"/main",component:_}),r.a.createElement(k.a,{exact:!0,path:"/lofi",component:_}),r.a.createElement(k.a,{exact:!0,path:"/reggae",component:_}),r.a.createElement(k.a,{exact:!0,path:"/indie",component:_}),r.a.createElement(k.a,{exact:!0,path:"/jazz",component:_}),r.a.createElement(k.a,{exact:!0,path:"/morningcoffee",component:_}),r.a.createElement(k.a,{exact:!0,path:"/metal",component:_})))}}]),t}(n.Component);var Y=Object(w.b)(function(e){return{auth:e.auth,color:e.color}},{fetchUser:z,colorChange:H})(G),q=a(16),V=a(89),W=a(234),K=Object(q.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_USER":return t.payload||!1;default:return e}},form:W.a,color:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bg-dark text-white border-light",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COLOR_CHANGE":return t.payload||!1;default:return e}}}),Q=Object(q.d)(K,{},Object(q.a)(V.a));l.a.render(r.a.createElement(w.a,{store:Q},r.a.createElement(Y,null)),document.getElementById("root"))},42:function(e,t,a){},92:function(e,t,a){e.exports=a(230)}},[[92,1,2]]]);
//# sourceMappingURL=main.412e4b49.chunk.js.map